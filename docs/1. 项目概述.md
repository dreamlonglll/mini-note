# MiniNote - 桌面待办项工具

## 项目简介

MiniNote 是一款 Windows 桌面待办项工具，具有以下特点：

- 🖥️ **嵌入桌面** - 窗口嵌入桌面壁纸层，避免 Win+D 最小化
- 🎨 **透明磨砂背景** - 采用 Windows 11 Acrylic/Mica 效果
- 💾 **本地存储** - 使用 SQLite 数据库，数据安全可靠
- 🚀 **开机自启** - 常驻桌面，随时记录待办事项

## 技术栈

| 组件 | 技术选型 |
|------|----------|
| 框架 | WPF + .NET 10 |
| 架构 | MVVM 模式 |
| 数据库 | SQLite + Entity Framework Core |
| UI 效果 | Windows DWM API (Acrylic/Mica) |
| 通知 | Windows Toast Notifications |
| MVVM 工具 | CommunityToolkit.Mvvm |

## 核心依赖包

```xml
<PackageReference Include="Microsoft.EntityFrameworkCore.Sqlite" Version="10.0.0" />
<PackageReference Include="CommunityToolkit.Mvvm" Version="8.2.2" />
<PackageReference Include="Microsoft.Toolkit.Uwp.Notifications" Version="7.1.3" />
<PackageReference Include="MaterialDesignThemes" Version="5.3.0" />
```

## 功能列表

### 核心功能
- [x] 待办项增删改查
- [x] 勾选完成/取消完成
- [x] 分组/分类管理（数据模型已完成，UI 待完善）
- [x] 优先级标记（高/中/低）

### 高级功能
- [x] 定时提醒通知
- [x] 开机自启动
- [x] 系统托盘图标
- [x] 窗口位置记忆
- [x] 深浅主题切换

### 界面特性
- [x] 透明磨砂背景
- [x] 桌面嵌入（避免 Win+D）
- [x] 可拖拽移动（普通模式下支持）
- [x] 简洁列表 + 卡片式布局

## 项目结构

```
MiniNote/
├── MiniNote.slnx
├── src/
│   └── MiniNote/
│       ├── MiniNote.csproj
│       ├── App.xaml                   # 应用程序入口（含全局样式）
│       ├── App.xaml.cs
│       ├── AssemblyInfo.cs
│       ├── MainWindow.xaml            # 主窗口（含待办列表）
│       ├── MainWindow.xaml.cs
│       ├── Models/                    # 数据模型
│       │   ├── TodoItem.cs            # 待办项实体
│       │   ├── TodoCategory.cs        # 分类实体
│       │   └── AppSettings.cs         # 应用设置实体
│       ├── ViewModels/                # MVVM ViewModel
│       │   ├── MainViewModel.cs       # 主视图模型
│       │   └── TodoItemViewModel.cs   # 待办项视图模型
│       ├── Views/                     # 用户控件
│       │   ├── TodoItemView.xaml      # 待办项卡片
│       │   └── TodoItemView.xaml.cs
│       ├── Services/                  # 服务层
│       │   ├── DatabaseService.cs     # 数据库操作
│       │   ├── DesktopEmbedService.cs # 桌面嵌入服务
│       │   └── TrayIconService.cs     # 系统托盘服务
│       ├── Helpers/                   # 工具类
│       │   ├── Win32Api.cs            # Windows API 封装
│       │   ├── AcrylicHelper.cs       # 磨砂效果助手
│       │   └── Logger.cs              # 日志助手
│       ├── Converters/                # 值转换器
│       │   └── Converters.cs          # 各种 XAML 转换器
│       └── Data/
│           └── AppDbContext.cs        # EF Core 上下文
├── docs/                              # 开发文档
└── .vscode/                           # VS Code 配置
```

### 已实现文件（阶段四、五、六）

```
├── Services/
│   ├── NotificationService.cs         # 通知服务
│   ├── AutoStartService.cs            # 开机自启服务
│   └── DatabaseMigrationService.cs    # 数据库迁移服务
├── Views/
│   ├── AddTodoDialog.xaml             # 新增待办对话框
│   ├── EditTodoDialog.xaml            # 编辑待办对话框
│   ├── ReminderDialog.xaml            # 提醒设置对话框
│   └── SettingsWindow.xaml            # 设置窗口
```

## 开发阶段

| 阶段 | 名称 | 说明 | 状态 |
|------|------|------|------|
| 阶段一 | 项目基础搭建 | 创建项目、配置依赖、数据模型 | 已完成 |
| 阶段二 | 核心窗口功能 | 透明效果、桌面嵌入、拖拽移动 | 已完成 |
| 阶段三 | 待办项功能 | 增删改查、分组、优先级 | 已完成 |
| 阶段四 | 提醒通知功能 | Toast 通知、定时提醒 | 已完成 |
| 阶段五 | 完善功能 | 开机自启、托盘图标、设置窗口 | 已完成 |
| 阶段六 | UI 重构 | MaterialDesign 集成、主题切换 | 已完成 |

## 系统要求

- Windows 10 版本 1903 或更高版本
- Windows 11（推荐，磨砂效果最佳）
- .NET 10 运行时
